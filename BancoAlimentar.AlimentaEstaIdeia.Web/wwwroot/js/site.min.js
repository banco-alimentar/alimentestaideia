function formatCoin(n){return n=formatter.format(n),n=n.replace(" ",""),n.replace(",",".")}$.validator.setDefaults({ignore:null});$(document).ready(function(){$(".langSelector:not(.open)").hover(function(){$(this).attr("src","../Content/img/lingua_hover.png")},function(){$(this).attr("src","../Content/img/lingua.png")});$("body").on("click",".langSelector:not(.open)",function(){$(this).addClass(".open").attr("src","../Content/img/lingua_click.png")});$("body").on("click",".langSelector.open",function(){$(this).removeClass(".open").attr("src","../Content/img/lingua_hover.png")});$("body").on("click",".text9",function(){$(".stepOne").hide();$(".stepTwo").fadeIn()});$("body").on("click","#donation-button",function(){fbq("track","submitApplication");$("#donation-form").fadeIn();$("body").addClass("still")});$("body").on("click",".close",function(){$(".modal").fadeOut();$("body").removeClass("still")});$("body").on("click",".close2",function(){$(".stepOne").fadeIn();$(".stepTwo").hide()});$("body").on("click",".more",function(){var n=parseInt($(this).parent().find("input").val()),i;if(n=n+1,n>0){var r=parseFloat($(".text8").html()),u=parseFloat($(this).parent().find("input").attr("data-value")),f=parseFloat($(this).parent().find("input").attr("data-quantity")),t=r+u;$(".text8").html(formatCoin(t));$("#Amount").val(t);i="."+$(this).parent().find("input").attr("data-target");$(i).html((n*f).toFixed(2));$(this).parent().find("input").addClass("positive")}else $(this).parent().find("input").removeClass("positive");$(this).parent().find("input").val(n)});$("body").on("click",".less",function(){var n=parseInt($(this).parent().find("input").val()),i;if(n=n-1,parseInt(n)>=0){var r=parseFloat($(".text8").html()),u=parseFloat($(this).parent().find("input").attr("data-value")),f=parseFloat($(this).parent().find("input").attr("data-quantity")),t=r-u;$(".text8").html(formatCoin(t));$("#Amount").val(t);i="."+$(this).parent().find("input").attr("data-target");$(i).html((n*f).toFixed(2));$(this).parent().find("input").addClass("positive")}parseInt(n)<=0&&$(this).parent().find("input").removeClass("positive");parseInt(n)<0&&(n=0);$(this).parent().find("input").val(n)});$("body").on("click",".more,.less",function(){var n="";for(pos=0;pos<6;pos++)itemCount=parseInt($("#field"+(pos+1)).val()),itemCount>0&&(n+=pos+1+":"+$("#field"+(pos+1)).val()+";");$("#DonatedItems").val(n)});$("#Address").val("-");$("#PostalCode").val("-");$("#Nif").val("000000000");$("#WantsReceipt").val("false");$("#AcceptsTerms").val("false");$("#WantsReceiptCheckBox").click(function(){$("#WantsReceiptCheckBox").is(":checked")?($(".recibo").show(),$("#Address").val(""),$("#PostalCode").val(""),$("#Nif").val("")):($(".recibo").hide(),$("#Address").val("-"),$("#PostalCode").val("-"),$("#Nif").val("000000000"));$("#WantsReceipt").val($("#WantsReceiptCheckBox").is(":checked"))});$("#AcceptsTermsCheckBox").click(function(){$("#AcceptsTerms").val($("#AcceptsTermsCheckBox").is(":checked"))});$("#Amount").addClass("amount");$.validator.addMethod("amount",function(){return $("#Amount").val()>0},"Deve seleccionar alimentos para doar.");$("#AcceptsTerms").addClass("acceptsTerms");$.validator.addMethod("acceptsTerms",function(){return $("#AcceptsTerms").val()=="true"},"Deve aceitar a Pol&iacute;tica de Privacidade.");$("#Nif").addClass("nif");$.validator.addMethod("nif",function(n){var t,i,r;if(n=="000000000")return!0;if(i=0,n!=null&&/^\d+$/.test(n)&&n.length==9&&(t=n.charAt(0),t=="1"||t=="2"||t=="5"||t=="6"||t=="8"||t=="9")){for(i=t*9,r=0,r=2;r<=8;r++)i+=n.charAt(r-1)*(10-r);if(i=11-i%11,i>=10&&(i=0),i==n.charAt(8))return!0}return!1},"NIF inv&aacute;lido.");$(".validation-summary-errors").length>0&&$("#donation-button").click()});const formatter=new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR",minimumFractionDigits:2});$(document).ready(function(){$("body").on("click","#pagamentomb",function(){$("#pagamentomb").stop().animate({opacity:1},500);$("#pagamentounicre,#pagamentopaypal,#pagamentombway").stop().animate({opacity:.5},500);$(".pay0").hide();$(".pay1").fadeIn();$(".pay2").hide();$(".pay3").hide();$(".pay4").hide()});$("body").on("click","#pagamentounicre",function(){$("#pagamentounicre").stop().animate({opacity:1},500);$("#pagamentomb,#pagamentopaypal,#pagamentombway").stop().animate({opacity:.5},500);$(".pay0").hide();$(".pay1").hide();$(".pay2").fadeIn();$(".pay3").hide();$(".pay4").hide()});$("body").on("click","#pagamentopaypal",function(){$("#pagamentopaypal").stop().animate({opacity:1},500);$("#pagamentomb,#pagamentounicre,#pagamentombway").stop().animate({opacity:.5},500);$(".pay0").hide();$(".pay1").hide();$(".pay2").hide();$(".pay3").fadeIn();$(".pay4").hide()});$("body").on("click","#pagamentombway",function(){$("#pagamentombway").stop().animate({opacity:1},500);$("#pagamentomb,#pagamentounicre,#pagamentopaypal").stop().animate({opacity:.5},500);$(".pay0").hide();$(".pay1").hide();$(".pay2").hide();$(".pay3").hide();$(".pay4").fadeIn()})});