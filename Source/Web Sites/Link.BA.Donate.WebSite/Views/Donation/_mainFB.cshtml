@model Link.BA.Donate.WebSite.Models.DonateViewModel

    <div class="baLogo">

        <a href="@Url.Content("~/Donation/IndexFB/")"><img src="@Url.Content("~/Content/images/ba_logo_1.png")" height="280" border="0"/></a>

    </div>



    <div class="likeClass"><iframe src="http://www.facebook.com/plugins/like.php?app_id=146668712071140&amp;href=http%3A%2F%2Fwww.facebook.com%2Fapps%2Fapplication.php%3Fid%3D101801636557162&amp;send=true&amp;layout=button_count&amp;width=150&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font=tahoma&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:21px;" allowTransparency="true"></iframe></div>
    <div class="donateNow">Faça aqui a sua doação!</div>

    <div class="donationCallout">
    
        <div class="rightColFormTitle"><b>Encha o seu carrinho de doações:</b></div>
        @{
            var counter = 0;
        }
        @foreach (Link.BA.Donate.Models.TotalDonationsEntity item in ViewBag.TotalDonations)
        {
            <div class="rightFormDonationItemCol@(counter % 2 + 1)"><img src="@Url.Content("~/Content/images/less.png")" id="less@(item.ProductCatalogueId)" class="less" />&nbsp;<span id="val@(item.ProductCatalogueId)">0</span>&nbsp;<img src="@Url.Content("~/Content/images/more.png")" id="more@(item.ProductCatalogueId)" class="more"/>&nbsp;&nbsp;&nbsp;<img width="80" src="@Url.Content("~/Content/images/" + item.IconUrl)"  title="Un: @(item.Cost)€ /@(item.Quantity - decimal.Truncate((decimal)item.Quantity) == 0 ? ((decimal)item.Quantity).ToString("f0") : item.Quantity.ToString()) @(item.UnitOfMeasure)" alt="@(item.Name)"/></div>                                                                                                                                                                                                                                                                      
            <script language="javascript" type="text/javascript">
                amounts[@(counter)] = '@(item.Cost)';
                ids[@(counter)] = '@(item.ProductCatalogueId)';
                totalProducts++;
            </script>
            counter++;  
       }
 
    </div>

    @using (Html.BeginForm("Donate", "Donation", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
    @Html.AntiForgeryToken()
    <div class="blueRoundedBox">
    
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="rightFormLine">Particular&nbsp;@Html.RadioButton("Private", "true", true)&nbsp;Empresa&nbsp;@Html.RadioButton("Private", "false", false)</div>
        <div class="rightFormLine">@Html.LabelFor(m => m.Name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Html.EditorFor(m => m.Name, new { MAXLENGTH = 256 })</div>
        <div class="rightFormLine">@Html.LabelFor(m => m.Address)&nbsp;&nbsp;&nbsp;@Html.EditorFor(m => m.Address, new { MAXLENGTH = 256 })</div>
        <div class="rightFormObs">A sua morada é essencial para podermos enviar-lhe o recibo da sua doação para efeitos de IRS/IRC.</div>
        <div class="rightFormLine">@Html.LabelFor(m => m.PostalCode)&nbsp;@Html.EditorFor(m => m.PostalCode, new { MAXLENGTH = 20 })</div>
        <div class="rightFormObs">O Cód. Postal é essencial para entregarmos os bens que nos doar ao Banco Alimentar da sua área</div>
        <div class="rightFormLine">@Html.LabelFor(m => m.FoodBankId)&nbsp;@Html.DropDownListFor(m => m.FoodBankId, new SelectList(ViewBag.FoodBanks, "FoodBankId", "Name"))</div>
        <div class="rightFormObs">A doação será feita para o Banco Alimentar seleccionado</div>
        <div class="rightFormLine">@Html.LabelFor(m => m.Email)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Html.EditorFor(m => m.Email, new { MAXLENGTH = 128 })</div>
        <div class="rightFormObs">Usaremos este email para lhe enviar os dados e confirmação de pagamento da sua doação.</div>
        <div class="rightFormLine">@Html.LabelFor(m => m.Nif)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Html.EditorFor(m => m.Nif, new { MAXLENGTH = 9 })</div>
        <div class="rightFormObs">Apenas NIF válido.</div>
        <div class="rightFormLine">@Html.LabelFor(m => m.Picture)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input id="picture" type="file" name="picture" size="5" /></div>
        <div class="rightFormObs">Se não colocar a sua foto, a sua doação será anónima e não aparecerá na lista de doadores no centro desta página.</div>
        <div class="rightFormLineCaptcha">@CaptchaMVC.HtmlHelpers.CaptchaHelper.Captcha(this.Html, 6)</div>
        @Html.HiddenFor(m => m.Hidden);
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="rightFormNote">@Html.ValidationSummary("Todos os campos são de preenchimento obrigatório (excepto a foto)")</div>
        <div class="rightFormNote">Estes dados são necessários à emissão e envio de recibo de doação.</div>
    
    </div>

    <div class="donationTotal">
        <div id="amountDiv" class="donationTotalText">0 €</div>
    </div>

    <div class="donationButton">
        <div class="donationButtonText"><input type="image" src="@Url.Content("~/Content/images/donate_button.png")" value="Doar" /></div>
    </div>
        @Html.HiddenFor(m => m.Amount, new { @Value = "0" })
        @Html.HiddenFor(m => m.DonatedItems)
    }

    <div class="statusCallout">

        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        <div class="blankLine"></div>
        @foreach (Link.BA.Donate.Models.TotalDonationsEntity item in ViewBag.TotalDonations)
        {
            <div class="centerDonationItem"><img width="80" src="@Url.Content("~/Content/images/" + item.IconUrl)" title="@(item.TotalCost) €"/>&nbsp;&nbsp;&nbsp;@( ( item.Total-decimal.Truncate(item.Total)==0?item.Total.ToString("f0"):item.Total.ToString() ).Replace(".", ",") ) @item.UnitOfMeasure</div>
        }
    </div>

    <div class="donatorWall">
  
    @foreach (Link.BA.Donate.Models.LastPayedDonationEntity item in ViewBag.LastPayedDonations)
    {
        <div class="donatorPic@(item.DonationStatusId)"><img width="45" height="45" src="/Donation/DisplayImage/?donorId=@item.DonorId" title="@( (item.Picture == null) ? string.Empty : @item.Name + "(duplo clique para denunciar foto obscena ou abusiva)")" id="@item.DonorId" class="@( (item.Picture == null) ? "donorp" : "donor" )" id="@item.DonorId"/></div>
    }
        
    </div>
